
import csv
import xml.etree.ElementTree as ET

# Create the root element
root = ET.Element("robots")

# Read the CSV file
with open("robots.csv", "r") as file:
    reader = csv.DictReader(file)
    for row in reader:
        # Create a new robot element
        robot = ET.SubElement(root, "robot")
        robot.set("id", row["robot_id"])
        
        # Create the model element
        model = ET.SubElement(robot, "model")
        model.text = row["model"]
        
        # Create the manufacturer element
        manufacturer = ET.SubElement(robot, "manufacturer")
        manufacturer_name = ET.SubElement(manufacturer, "name")
        manufacturer_name.text = row["manufacturer.name"]
        manufacturer_country = ET.SubElement(manufacturer, "country")
        manufacturer_country.text = row["manufacturer.country"]
        
        # Create the specs element
        specs = ET.SubElement(robot, "specs")
        specs_height_cm = ET.SubElement(specs, "height_cm")
        specs_height_cm.text = row["specs.height_cm"]
        specs_weight_kg = ET.SubElement(specs, "weight_kg")
        specs_weight_kg.text = row["specs.weight_kg"]
        specs_battery_life_hrs = ET.SubElement(specs, "battery_life_hrs")
        specs_battery_life_hrs.text = row["specs.battery_life_hrs"]
        
        # Create the sensors element
        sensors = ET.SubElement(specs, "sensors")
        sensor1 = ET.SubElement(sensors, "sensor")
        sensor1_type = ET.SubElement(sensor1, "type")
        sensor1_type.text = row["specs.sensors[0].type"]
        sensor1_resolution = ET.SubElement(sensor1, "resolution")
        sensor1_resolution.text = row["specs.sensors[0].resolution"]
        sensor2 = ET.SubElement(sensors, "sensor")
        sensor2_type = ET.SubElement(sensor2, "type")
        sensor2_type.text = row["specs.sensors[1].type"]
        sensor2_resolution = ET.SubElement(sensor2, "resolution")
        sensor2_resolution.text = row["specs.sensors[1].resolution"]
        
        # Create the maintenance element
        maintenance = ET.SubElement(robot, "maintenance")
        last_service_date = ET.SubElement(maintenance, "last_service_date")
        last_service_date.text = row["maintenance.last_service_date"]
        technician = ET.SubElement(maintenance, "technician")
        technician.text = row["maintenance.technician"]
        parts_replaced = ET.SubElement(maintenance, "parts_replaced")
        part1 = ET.SubElement(parts_replaced, "part")
        part1.text = row["maintenance.parts_replaced[0]"]
        part2 = ET.SubElement(parts_replaced, "part")
        part2.text = row["maintenance.parts_replaced[1]"]

# Create the XML tree
tree = ET.ElementTree(root)

# Write the XML tree to a file
tree.write("robots.xml")
