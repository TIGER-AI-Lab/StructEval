
import json
import xml.etree.ElementTree as ET

json_data = '''
{
  "museum": {
    "name": "Museum of Imaginary History",
    "location": {
      "city": "Cloudville",
      "country": "Nowhereland"
    },
    "exhibits": {
      "exhibit": [
        {
          "title": "The Invention of the Invisible Hat",
          "year": 1784,
          "artifacts": {
            "artifact": [
              { "name": "Invisible Hat Prototype", "material": "Unknown Fabric" },
              { "name": "Instruction Manual", "material": "Paper" }
            ]
          }
        },
        {
          "title": "The Great Balloon Parade",
          "year": 1922,
          "artifacts": {
            "artifact": [
              { "name": "Giant Rubber Balloon", "material": "Rubber" }
            ]
          }
        }
      ]
    }
  }
}
'''

def json_to_xml(json_str):
    root = ET.Element('root')
    museum = ET.SubElement(root, 'museum')
    museum.set('name', json.loads(json_str)['museum']['name'])
    location = ET.SubElement(museum, 'location')
    ET.SubElement(location, 'city').text = json.loads(json_str)['museum']['location']['city']
    ET.SubElement(location, 'country').text = json.loads(json_str)['museum']['location']['country']
    exhibits = ET.SubElement(museum, 'exhibits')
    for exhibit in json.loads(json_str)['museum']['exhibits']['exhibit']:
        exhibit_elem = ET.SubElement(exhibits, 'exhibit')
        ET.SubElement(exhibit_elem, 'title').text = exhibit['title']
        ET.SubElement(exhibit_elem, 'year').text = str(exhibit['year'])
        artifacts = ET.SubElement(exhibit_elem, 'artifacts')
        for artifact in exhibit['artifacts']['artifact']:
            artifact_elem = ET.SubElement(artifacts, 'artifact')
            ET.SubElement(artifact_elem, 'name').text = artifact['name']
            ET.SubElement(artifact_elem, 'material').text = artifact['material']
    return ET.tostring(root, encoding='unicode')

xml_data = json_to_xml(json_data)
print(xml_data)
