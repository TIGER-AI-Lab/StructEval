python
import csv
import xml.etree.ElementTree as ET

# XML data
xml_data = '''
<planets>
  <planet>
    <PlanetName>Zephyra</PlanetName>
    <DistanceFromSun_AU>1.7</DistanceFromSun_AU>
    <DiscoveryDate>2042-03-18</DiscoveryDate>
    <HasRings>true</HasRings>
    <NumberOfMoons>2</NumberOfMoons>
    <AtmosphereType>Methane-rich</AtmosphereType>
  </planet>
  <planet>
    <PlanetName>Orionis</PlanetName>
    <DistanceFromSun_AU>3.2</DistanceFromSun_AU>
    <DiscoveryDate>2038-11-05</DiscoveryDate>
    <HasRings>false</HasRings>
    <NumberOfMoons>5</NumberOfMoons>
    <AtmosphereType>Nitrogen-Oxygen</AtmosphereType>
  </planet>
  <planet>
    <PlanetName>Thalassa</PlanetName>
    <DistanceFromSun_AU>0.9</DistanceFromSun_AU>
    <DiscoveryDate>2045-06-21</DiscoveryDate>
    <HasRings>false</HasRings>
    <NumberOfMoons>1</NumberOfMoons>
    <AtmosphereType>Hydrogen</AtmosphereType>
  </planet>
  <planet>
    <PlanetName>Pyrrhus</PlanetName>
    <DistanceFromSun_AU>5.6</DistanceFromSun_AU>
    <DiscoveryDate>2040-09-14</DiscoveryDate>
    <HasRings>true</HasRings>
    <NumberOfMoons>8</NumberOfMoons>
    <AtmosphereType>Carbon Dioxide</AtmosphereType>
  </planet>
  <planet>
    <PlanetName>Aurelia</PlanetName>
    <DistanceFromSun_AU>2.4</DistanceFromSun_AU>
    <DiscoveryDate>2039-12-02</DiscoveryDate>
    <HasRings>false</HasRings>
    <NumberOfMoons>3</NumberOfMoons>
    <AtmosphereType>Ammonia</AtmosphereType>
  </planet>
  <planet>
    <PlanetName>Vespera</PlanetName>
    <DistanceFromSun_AU>4.8</DistanceFromSun_AU>
    <DiscoveryDate>2043-08-29</DiscoveryDate>
    <HasRings>true</HasRings>
    <NumberOfMoons>6</NumberOfMoons>
    <AtmosphereType>Helium</AtmosphereType>
  </planet>
</planets>
'''

# Parse the XML data
root = ET.fromstring(xml_data)

# Extract headers from the first planet element
headers = [child.tag for child in root[0]]

# Open a file for writing the CSV data
with open('planets.csv', 'w', newline='') as file:
    writer = csv.writer(file)

    # Write the headers
    writer.writerow(headers)

    # Write the data rows
    for planet in root:
        row = [planet.find(header).text for header in headers]
        writer.writerow(row)