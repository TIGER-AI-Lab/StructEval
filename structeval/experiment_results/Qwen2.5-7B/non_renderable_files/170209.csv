python
import csv
import xml.etree.ElementTree as ET

# XML data
xml_data = '''
<robots>
  <robot>
    <RobotName>XR-Alpha</RobotName>
    <ModelNumber>XA-1001</ModelNumber>
    <ActivationDate>2099-08-12</ActivationDate>
    <BatteryLifeHours>72</BatteryLifeHours>
    <PrimaryFunction>Space Exploration</PrimaryFunction>
    <WeightKg>85.5</WeightKg>
  </robot>
  <robot>
    <RobotName>BetaSpark</RobotName>
    <ModelNumber>BS-2045</ModelNumber>
    <ActivationDate>2102-01-23</ActivationDate>
    <BatteryLifeHours>48</BatteryLifeHours>
    <PrimaryFunction>Medical Assistance</PrimaryFunction>
    <WeightKg>62.0</WeightKg>
  </robot>
  <robot>
    <RobotName>GammaPulse</RobotName>
    <ModelNumber>GP-3099</ModelNumber>
    <ActivationDate>2105-11-07</ActivationDate>
    <BatteryLifeHours>96</BatteryLifeHours>
    <PrimaryFunction>Underwater Repair</PrimaryFunction>
    <WeightKg>102.3</WeightKg>
  </robot>
  <robot>
    <RobotName>DeltaCore</RobotName>
    <ModelNumber>DC-4002</ModelNumber>
    <ActivationDate>2101-05-19</ActivationDate>
    <BatteryLifeHours>60</BatteryLifeHours>
    <PrimaryFunction>Hazardous Material Handling</PrimaryFunction>
    <WeightKg>77.7</WeightKg>
  </robot>
  <robot>
    <RobotName>EpsilonWing</RobotName>
    <ModelNumber>EW-5123</ModelNumber>
    <ActivationDate>2098-12-31</ActivationDate>
    <BatteryLifeHours>84</BatteryLifeHours>
    <PrimaryFunction>Aerial Survey</PrimaryFunction>
    <WeightKg>54.9</WeightKg>
  </robot>
</robots>
'''

# Parse the XML data
root = ET.fromstring(xml_data)

# Extract headers from the first robot's tags
headers = root[0].tags

# Write to CSV
with open('robots.csv', 'w', newline='') as file:
    writer = csv.DictWriter(file, fieldnames=headers)
    writer.writeheader()
    for robot in root.findall('robot'):
        row = {tag: robot.find(tag).text for tag in headers}
        writer.writerow(row)

print("CSV file 'robots.csv' has been created.")