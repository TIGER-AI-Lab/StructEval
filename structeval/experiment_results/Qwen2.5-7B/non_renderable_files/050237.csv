python
import json
import csv

# JSON data
json_data = '''
{
  "fantasy_creatures": [
    {
      "CreatureName": "Glimmerfox",
      "Habitat": "Moonlit Forest",
      "NumberOfLegs": 4,
      "FavoriteSnack": "Starlight Berries",
      "DiscoveryDate": "1897-03-14",
      "IsNocturnal": true
    },
    {
      "CreatureName": "Bubblewyrm",
      "Habitat": "Crystal Lake",
      "NumberOfLegs": 0,
      "FavoriteSnack": "Floating Algae",
      "DiscoveryDate": "2003-08-22",
      "IsNocturnal": false
    },
    {
      "CreatureName": "Mossbeetle",
      "Habitat": "Emerald Caverns",
      "NumberOfLegs": 6,
      "FavoriteSnack": "Luminous Moss",
      "DiscoveryDate": "1954-11-02",
      "IsNocturnal": true
    },
    {
      "CreatureName": "Whistletoad",
      "Habitat": "Foggy Marsh",
      "NumberOfLegs": 2,
      "FavoriteSnack": "Echo Flies",
      "DiscoveryDate": "2017-04-19",
      "IsNocturnal": false
    },
    {
      "CreatureName": "Thistlegriff",
      "Habitat": "Windy Highlands",
      "NumberOfLegs": 4,
      "FavoriteSnack": "Bramble Seeds",
      "DiscoveryDate": "1823-09-05",
      "IsNocturnal": false
    },
    {
      "CreatureName": "Sunscale",
      "Habitat": "Golden Desert",
      "NumberOfLegs": 8,
      "FavoriteSnack": "Sand Beetles",
      "DiscoveryDate": "1999-12-31",
      "IsNocturnal": true
    }
  ]
}
'''

# Parse JSON data
data = json.loads(json_data)

# Extract headers from the first dictionary
headers = data['fantasy_creatures'][0].keys()

# Write to CSV
with open('fantasy_creatures.csv', 'w', newline='') as file:
    writer = csv.DictWriter(file, fieldnames=headers)
    writer.writeheader()
    for creature in data['fantasy_creatures']:
        writer.writerow(creature)

print("CSV file has been created successfully.")