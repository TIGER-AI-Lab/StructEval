python
import csv
import yaml

# YAML data as a string
data = """
stars:
  - star_name: "Gliese 581"
    distance_ly: 20.3
    spectral_type: "M3V"
    discovered_by: "Wilhelm Gliese"
    discovery_date: 1957-01-01
    has_planets: true
  - star_name: "Kepler-452"
    distance_ly: 1400
    spectral_type: "G2V"
    discovered_by: "Kepler Mission"
    discovery_date: 2015-07-23
    has_planets: true
  - star_name: "Betelgeuse"
    distance_ly: 642.5
    spectral_type: "M2Iab"
    discovered_by: "Ancient Astronomers"
    discovery_date: 1000-01-01
    has_planets: false
  - star_name: "TRAPPIST-1"
    distance_ly: 39.6
    spectral_type: "M8V"
    discovered_by: "TRAPPIST Team"
    discovery_date: 2016-05-02
    has_planets: true
  - star_name: "Sirius"
    distance_ly: 8.6
    spectral_type: "A1V"
    discovered_by: "Ancient Egyptians"
    discovery_date: 1000-01-01
    has_planets: false
  - star_name: "Proxima Centauri"
    distance_ly: 4.24
    spectral_type: "M5.5V"
    discovered_by: "Robert Innes"
    discovery_date: 1915-01-01
    has_planets: true
"""

# Load the YAML data
stars = yaml.safe_load(data)['stars']

# Write to CSV
with open('stars.csv', 'w', newline='') as file:
    writer = csv.DictWriter(file, fieldnames=stars[0].keys())
    writer.writeheader()
    for star in stars:
        writer.writerow(star)

print("CSV file 'stars.csv' has been created.")