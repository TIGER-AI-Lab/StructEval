
import csv
import json

# Sample data
data = '''
{
  "creature_id": "12345",
  "species_name": "Gigantopithecus",
  "habitat": {
    "region": "Southeast Asia",
    "climate": "Tropical",
    "elevation_range": "Sea level to 1000m"
  },
  "features": {
    "size": "3 meters",
    "color_pattern": "Dark brown with lighter stripes",
    "average_lifespan_years": 40
  },
  "abilities": [
    {
      "name": "Powerful Jaws",
      "description": "Can crush through tough plant material",
      "power_level": 8
    },
    {
      "name": "Agile Climbing",
      "description": "Can scale trees with ease",
      "power_level": 6
    }
  ],
  "diet": {
    "primary_foods": "Fruits, leaves, and small animals"
  }
}
'''

# Parse the JSON data
creature_data = json.loads(data)

# Extract the required information
creature_id = creature_data['creature_id']
species_name = creature_data['species_name']
habitat_region = creature_data['habitat']['region']
habitat_climate = creature_data['habitat']['climate']
habitat_elevation_range = creature_data['habitat']['elevation_range']
features_size = creature_data['features']['size']
features_color_pattern = creature_data['features']['color_pattern']
features_average_lifespan_years = creature_data['features']['average_lifespan_years']
abilities_primary_name = creature_data['abilities'][0]['name']
abilities_primary_description = creature_data['abilities'][0]['description']
abilities_primary_power_level = creature_data['abilities'][0]['power_level']
abilities_secondary_name = creature_data['abilities'][1]['name']
abilities_secondary_description = creature_data['abilities'][1]['description']
abilities_secondary_power_level = creature_data['abilities'][1]['power_level']
diet_primary_foods = creature_data['diet']['primary_foods']

# Write the data to a CSV file
with open('creature_data.csv', 'w', newline='') as csvfile:
    fieldnames = ['creature_id', 'species_name', 'habitat_region', 'habitat_climate', 'habitat_elevation_range', 'features_size', 'features_color_pattern', 'features_average_lifespan_years', 'abilities_primary_name', 'abilities_primary_description', 'abilities_primary_power_level', 'abilities_secondary_name', 'abilities_secondary_description', 'abilities_secondary_power_level', 'diet_primary_foods']
    writer = csv.DictWriter(csvfile, fieldnames=fieldnames)

    writer.writeheader()
    writer.writerow({
        'creature_id': creature_id,
        'species_name': species_name,
        'habitat_region': habitat_region,
        'habitat_climate': habitat_climate,
        'habitat_elevation_range': habitat_elevation_range,
        'features_size': features_size,
        'features_color_pattern': features_color_pattern,
        'features_average_lifespan_years': features_average_lifespan_years,
        'abilities_primary_name': abilities_primary_name,
        'abilities_primary_description': abilities_primary_description,
        'abilities_primary_power_level': abilities_primary_power_level,
        'abilities_secondary_name': abilities_secondary_name,
        'abilities_secondary_description': abilities_secondary_description,
        'abilities_secondary_power_level': abilities_secondary_power_level,
        'diet_primary_foods': diet_primary_foods
    })
