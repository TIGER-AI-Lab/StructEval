
import yaml
from xml.etree import ElementTree as ET

def convert_yaml_to_xml(yaml_data):
    data = yaml.safe_load(yaml_data)
    root = ET.Element("library")
    for section in data["section"]:
        section_elem = ET.SubElement(root, "section")
        section_elem.set("name", section["name"])
        for shelf in section["shelf"]:
            shelf_elem = ET.SubElement(section_elem, "shelf")
            shelf_elem.set("id", str(shelf["id"]))
            for book in shelf["book"]:
                book_elem = ET.SubElement(shelf_elem, "book")
                title_elem = ET.SubElement(book_elem, "title")
                title_elem.text = book["title"]
                spell_elem = ET.SubElement(book_elem, "spell")
                spell_elem.text = book["spell"]
    return ET.tostring(root, encoding="unicode")

yaml_data = """
enchantedLibrary:
  section:
    - name: "Ancient Grimoires"
      shelf:
        - id: 1
          book:
            - title: "The Whispering Pages"
              spell: "Invisibility"
            - title: "Runes of the Moon"
              spell: "Lunar Beacon"
        - id: 2
          book:
            - title: "Potion Mastery"
              spell: "Transmute"
"""

xml_data = convert_yaml_to_xml(yaml_data)
print(xml_data)
