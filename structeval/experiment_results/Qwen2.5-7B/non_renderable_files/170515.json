python
import json
import xml.etree.ElementTree as ET

xml_data = """
<galaxy>
  <name>Andromeda</name>
  <constellations>
    <constellation>
      <name>Pegasus</name>
      <stars>
        <star>
          <name>Markab</name>
          <magnitude>2.49</magnitude>
          <type>B9</type>
        </star>
        <star>
          <name>Scheat</name>
          <magnitude>2.42</magnitude>
          <type>M2</type>
        </star>
      </stars>
    </constellation>
    <constellation>
      <name>Cassiopeia</name>
      <stars>
        <star>
          <name>Caph</name>
          <magnitude>2.28</magnitude>
          <type>F2</type>
        </star>
      </stars>
    </constellation>
  </constellations>
</galaxy>
"""

def xml_to_json(xml_string):
    root = ET.fromstring(xml_string)
    json_data = {}
    for child in root:
        json_data[child.tag] = {}
        for subchild in child:
            if len(subchild) > 0:
                json_data[child.tag][subchild.tag] = {}
                for subsubchild in subchild:
                    json_data[child.tag][subchild.tag][subsubchild.tag] = subsubchild.text
            else:
                json_data[child.tag][subchild.tag] = subchild.text
    return json.dumps(json_data, indent=2)

json_data = xml_to_json(xml_data)
print(json_data)