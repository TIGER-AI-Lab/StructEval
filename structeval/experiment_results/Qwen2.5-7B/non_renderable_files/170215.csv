python
import csv
import xml.etree.ElementTree as ET

# XML data
xml_data = '''
<stars>
  <star>
    <Constellation>Orion</Constellation>
    <StarName>Betelgeuse</StarName>
    <Magnitude>0.45</Magnitude>
    <DiscoveryDate>1836-12-08</DiscoveryDate>
    <DistanceLY>642.5</DistanceLY>
    <SpectralType>M2Iab</SpectralType>
  </star>
  <star>
    <Constellation>Lyra</Constellation>
    <StarName>Vega</StarName>
    <Magnitude>0.03</Magnitude>
    <DiscoveryDate>1850-01-14</DiscoveryDate>
    <DistanceLY>25.04</DistanceLY>
    <SpectralType>A0V</SpectralType>
  </star>
  <star>
    <Constellation>Canis Major</Constellation>
    <StarName>Sirius</StarName>
    <Magnitude>-1.46</Magnitude>
    <DiscoveryDate>1862-01-31</DiscoveryDate>
    <DistanceLY>8.6</DistanceLY>
    <SpectralType>A1V</SpectralType>
  </star>
  <star>
    <Constellation>Centaurus</Constellation>
    <StarName>Alpha Centauri</StarName>
    <Magnitude>-0.27</Magnitude>
    <DiscoveryDate>1689-05-17</DiscoveryDate>
    <DistanceLY>4.37</DistanceLY>
    <SpectralType>G2V</SpectralType>
  </star>
  <star>
    <Constellation>Taurus</Constellation>
    <StarName>Aldebaran</StarName>
    <Magnitude>0.85</Magnitude>
    <DiscoveryDate>1782-11-23</DiscoveryDate>
    <DistanceLY>65.1</DistanceLY>
    <SpectralType>K5III</SpectralType>
  </star>
  <star>
    <Constellation>Ursa Major</Constellation>
    <StarName>Dubhe</StarName>
    <Magnitude>1.79</Magnitude>
    <DiscoveryDate>1723-03-02</DiscoveryDate>
    <DistanceLY>123</DistanceLY>
    <SpectralType>K0III</SpectralType>
  </star>
</stars>
'''

# Parse the XML data
root = ET.fromstring(xml_data)

# Extract headers from the first star element
headers = [child.tag for child in root[0]]

# Open a file for writing the CSV
with open('stars.csv', 'w', newline='') as file:
    writer = csv.writer(file)

    # Write the headers
    writer.writerow(headers)

    # Write the data rows
    for star in root.findall('star'):
        row = [star.find(child).text for child in headers]
        writer.writerow(row)

# The CSV file 'stars.csv' is now created with the data from the XML