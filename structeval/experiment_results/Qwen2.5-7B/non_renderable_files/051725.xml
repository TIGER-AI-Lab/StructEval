
import json
import xml.etree.ElementTree as ET

json_data = '''
{
  "museum": {
    "name": "Museum of Imaginary Artifacts",
    "location": {
      "city": "Quixotica",
      "country": "Nowhereland"
    },
    "galleries": {
      "gallery": [
        {
          "title": "Mechanical Marvels",
          "artworks": {
            "artwork": [
              {
                "artist": "Ada Lovelace",
                "title": "Clockwork Algorithm",
                "year": 1843
              },
              {
                "artist": "Charles Babbage",
                "title": "Analytical Engine Model",
                "year": 1837
              }
            ]
          }
        },
        {
          "title": "Invisible Wonders",
          "artworks": {
            "artwork": [
              {
                "artist": "Marie Curie",
                "title": "Radiant Flask",
                "year": 1903
              }
            ]
          }
        }
      ]
    }
  }
}
'''

def json_to_xml(json_str):
    data = json.loads(json_str)
    root = ET.Element('root')
    museum = ET.SubElement(root, 'museum')
    museum.set('name', data['museum']['name'])
    location = ET.SubElement(museum, 'location')
    ET.SubElement(location, 'city').text = data['museum']['location']['city']
    ET.SubElement(location, 'country').text = data['museum']['location']['country']
    galleries = ET.SubElement(museum, 'galleries')
    for gallery in data['museum']['galleries']['gallery']:
        gallery_elem = ET.SubElement(galleries, 'gallery')
        ET.SubElement(gallery_elem, 'title').text = gallery['title']
        artworks = ET.SubElement(gallery_elem, 'artworks')
        for artwork in gallery['artworks']['artwork']:
            artwork_elem = ET.SubElement(artworks, 'artwork')
            ET.SubElement(artwork_elem, 'artist').text = artwork['artist']
            ET.SubElement(artwork_elem, 'title').text = artwork['title']
            ET.SubElement(artwork_elem, 'year').text = str(artwork['year'])
    return ET.tostring(root, encoding='unicode')

xml_data = json_to_xml(json_data)
print(xml_data)
