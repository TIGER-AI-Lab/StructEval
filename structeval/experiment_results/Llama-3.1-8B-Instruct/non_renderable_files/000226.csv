
import csv

data = {
    "species_name": "Panthera leo",
    "classification": {
        "kingdom": "Animalia",
        "phylum": "Chordata",
        "class": "Mammalia",
        "order": "Carnivora",
        "family": "Felidae",
        "genus": "Panthera"
    },
    "habitat": {
        "primary": "Savannas and grasslands",
        "secondary": "Forests and woodlands"
    },
    "population": {
        "estimate": 20000,
        "status": "Vulnerable"
    },
    "discovery": {
        "year": 1758,
        "location": "Africa"
    },
    "notable_features": [
        {
            "name": "Mane",
            "description": "A distinctive feature of male lions, the mane serves as a sign of masculinity and helps protect the lion's neck during fights."
        },
        {
            "name": "Social Structure",
            "description": "Lions are known for their complex social structures, often consisting of several females, their cubs, and one or more males."
        }
    ]
}

with open('species_data.csv', 'w', newline='') as csvfile:
    fieldnames = [
        "species_name",
        "classification.kingdom",
        "classification.phylum",
        "classification.class",
        "classification.order",
        "classification.family",
        "classification.genus",
        "habitat.primary",
        "habitat.secondary",
        "population.estimate",
        "population.status",
        "discovery.year",
        "discovery.location",
        "notable_features.0.name",
        "notable_features.0.description",
        "notable_features.1.name",
        "notable_features.1.description"
    ]
    writer = csv.DictWriter(csvfile, fieldnames=fieldnames)

    writer.writeheader()
    writer.writerow({
        "species_name": data["species_name"],
        "classification.kingdom": data["classification"]["kingdom"],
        "classification.phylum": data["classification"]["phylum"],
        "classification.class": data["classification"]["class"],
        "classification.order": data["classification"]["order"],
        "classification.family": data["classification"]["family"],
        "classification.genus": data["classification"]["genus"],
        "habitat.primary": data["habitat"]["primary"],
        "habitat.secondary": data["habitat"]["secondary"],
        "population.estimate": data["population"]["estimate"],
        "population.status": data["population"]["status"],
        "discovery.year": data["discovery"]["year"],
        "discovery.location": data["discovery"]["location"],
        "notable_features.0.name": data["notable_features"][0]["name"],
        "notable_features.0.description": data["notable_features"][0]["description"],
        "notable_features.1.name": data["notable_features"][1]["name"],
        "notable_features.1.description": data["notable_features"][1]["description"]
    })
