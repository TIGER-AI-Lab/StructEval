
import csv
from datetime import datetime

# Define a function to create a CSV row
def create_csv_row():
    artifact_id = "ART-001"
    artifact_name = "Ancient Vase"
    discovery = {
        "location": "Athens, Greece",
        "date_found": datetime(2020, 1, 1).isoformat(),
        "team_leader": "John Doe"
    }
    dimensions = {
        "height_cm": 30,
        "width_cm": 20,
        "depth_cm": 10
    }
    material = {
        "primary": "clay",
        "secondary": ""
    }
    estimated_age = {
        "years": 2000,
        "method": "radiocarbon dating"
    }
    current_condition = {
        "status": "excellent",
        "last_inspection": datetime(2022, 1, 1).isoformat()
    }
    exhibition_history = [
        {
            "museum": "National Archaeological Museum",
            "start_date": datetime(2020, 1, 1).isoformat(),
            "end_date": ""
        }
    ]

    # Create a dictionary to store the CSV row
    csv_row = {
        "artifact_id": artifact_id,
        "artifact_name": artifact_name,
        "discovery.location": discovery["location"],
        "discovery.date_found": discovery["date_found"],
        "discovery.team_leader": discovery["team_leader"],
        "dimensions.height_cm": dimensions["height_cm"],
        "dimensions.width_cm": dimensions["width_cm"],
        "dimensions.depth_cm": dimensions["depth_cm"],
        "material.primary": material["primary"],
        "material.secondary": material["secondary"],
        "estimated_age.years": estimated_age["years"],
        "estimated_age.method": estimated_age["method"],
        "current_condition.status": current_condition["status"],
        "current_condition.last_inspection": current_condition["last_inspection"],
        "exhibition_history[0].museum": exhibition_history[0]["museum"],
        "exhibition_history[0].start_date": exhibition_history[0]["start_date"],
        "exhibition_history[0].end_date": exhibition_history[0]["end_date"]
    }

    # Write the CSV row to a file
    with open("artifact.csv", "w", newline="") as csvfile:
        fieldnames = [
            "artifact_id",
            "artifact_name",
            "discovery.location",
            "discovery.date_found",
            "discovery.team_leader",
            "dimensions.height_cm",
            "dimensions.width_cm",
            "dimensions.depth_cm",
            "material.primary",
            "material.secondary",
            "estimated_age.years",
            "estimated_age.method",
            "current_condition.status",
            "current_condition.last_inspection",
            "exhibition_history[0].museum",
            "exhibition_history[0].start_date",
            "exhibition_history[0].end_date"
        ]
        writer = csv.DictWriter(csvfile, fieldnames=fieldnames)
        writer.writeheader()
        writer.writerow(csv_row)

create_csv_row()
