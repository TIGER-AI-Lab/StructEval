
import csv
from dataclasses import dataclass

@dataclass
class Classification:
    kingdom: str
    phylum: str
    class_: str
    order: str
    family: str
    genus: str
    species: str

@dataclass
class Habitat:
    primary: str
    secondary: str

@dataclass
class Diet:
    type: str
    examples: str

@dataclass
class ConservationStatus:
    status: str
    iucn_code: str

@dataclass
class Discovery:
    year: int
    discoverer: str

@dataclass
class Species:
    species_id: str
    common_name: str
    latin_name: str
    classification: Classification
    habitat: Habitat
    diet: Diet
    conservation_status: ConservationStatus
    discovery: Discovery

species = [
    Species(
        species_id="SPC-001",
        common_name="Gloopernaught",
        latin_name="Gloopernaughtius fantastica",
        classification=Classification(
            kingdom="Animalia",
            phylum="Chordata",
            class_="Mammalia",
            order="Rodentia",
            family="Gloopernaughtidae",
            genus="Gloopernaughtius",
            species="G. fantastica"
        ),
        habitat=Habitary(
            primary="Forest",
            secondary="Mountain"
        ),
        diet=Diet(
            type="Herbivore",
            examples="Fruits, Leaves, Bark"
        ),
        conservation_status=ConservationStatus(
            status="Least Concern",
            iucn_code="LC"
        ),
        discovery=Discovery(
            year=1995,
            discoverer="John Smith"
        )
    )
]

with open('species.csv', 'w', newline='') as csvfile:
    fieldnames = [
        'species_id',
        'common_name',
        'latin_name',
        'classification.kingdom',
        'classification.phylum',
        'classification.class',
        'classification.order',
        'classification.family',
        'classification.genus',
        'classification.species',
        'habitat.primary',
        'habitat.secondary',
        'diet.type',
        'diet.examples',
        'conservation_status.status',
        'conservation_status.iucn_code',
        'discovery.year',
        'discovery.discoverer'
    ]
    writer = csv.DictWriter(csvfile, fieldnames=fieldnames)

    writer.writeheader()
    for species in species:
        writer.writerow({
            'species_id': species.species_id,
            'common_name': species.common_name,
            'latin_name': species.latin_name,
            'classification.kingdom': species.classification.kingdom,
            'classification.phylum': species.classification.phylum,
            'classification.class': species.classification.class_,
            'classification.order': species.classification.order,
            'classification.family': species.classification.family,
            'classification.genus': species.classification.genus,
            'classification.species': species.classification.species,
            'habitat.primary': species.habitat.primary,
            'habitat.secondary': species.habitat.secondary,
            'diet.type': species.diet.type,
            'diet.examples': species.diet.examples,
            'conservation_status.status': species.conservation_status.status,
            'conservation_status.iucn_code': species.conservation_status.iucn_code,
            'discovery.year': species.discovery.year,
            'discovery.discoverer': species.discovery.discoverer
        })
