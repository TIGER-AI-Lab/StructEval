
import csv
from dataclasses import dataclass

@dataclass
class Habitat:
    region: str
    climate: str
    elevation_meters: float

@dataclass
class Diet:
    primary_food: str
    secondary_food: str
    is_carnivorous: bool

@dataclass
class PhysicalTraits:
    height_cm: float
    weight_kg: float
    fur_color: str
    has_wings: bool

@dataclass
class SocialStructure:
    group_size: int
    dominant_gender: str

@dataclass
class NotableBehavior:
    behavior_name: str
    frequency_per_day: float

@dataclass
class Species:
    species_name: str
    habitat: Habitat
    average_lifespan_years: float
    diet: Diet
    physical_traits: PhysicalTraits
    social_structure: SocialStructure
    notable_behaviors: list[NotableBehavior]

species_data = [
    Species(
        species_name="Glimmerwings",
        habitat=Habitat(region="Tropical Rainforest", climate="Tropical", elevation_meters=500.0),
        average_lifespan_years=10.0,
        diet=Diet(primary_food="Nectar", secondary_food="", is_carnivorous=False),
        physical_traits=PhysicalTraits(height_cm=20.0, weight_kg=0.5, fur_color="Iridescent", has_wings=True),
        social_structure=SocialStructure(group_size=10, dominant_gender="Female"),
        notable_behaviors=[
            NotableBehavior(behavior_name="Glowing Flight", frequency_per_day=5.0),
            NotableBehavior(behavior_name="Rainforest Navigation", frequency_per_day=2.0)
        ]
    ),
    Species(
        species_name="Thunderhoof",
        habitat=Habitation(region="Grasslands", climate="Temperate", elevation_meters=1000.0),
        average_lifespan_years=15.0,
        diet=Diet(primary_food="Grasses", secondary_food="Fruits", is_carnivorous=False),
        physical_traits=PhysicalTraits(height_cm=30.0, weight_kg=2.0, fur_color="Brown", has_wings=False),
        social_structure=SocialStructure(group_size=20, dominant_gender="Male"),
        notable_behaviors=[
            NotableBehavior(behavior_name="Thunder Stomp", frequency_per_day=3.0),
            NotableBehavior(behavior_name="Migration Patterns", frequency_per_day=1.0)
        ]
    )
]

with open('species_data.csv', 'w', newline='') as csvfile:
    fieldnames = [
        'species_name',
        'habitat.region',
        'habitat.climate',
        'habitat.elevation_meters',
        'average_lifespan_years',
        'diet.primary_food',
        'diet.secondary_food',
        'diet.is_carnivorous',
        'physical_traits.height_cm',
        'physical_traits.weight_kg',
        'physical_traits.fur_color',
        'physical_traits.has_wings',
        'social_structure.group_size',
        'social_structure.dominant_gender',
        'notable_behaviors.0.behavior_name',
        'notable_behaviors.0.frequency_per_day',
        'notable_behaviors.1.behavior_name',
        'notable_behaviors.1.frequency_per_day'
    ]
    writer = csv.DictWriter(csvfile, fieldnames=fieldnames)

    writer.writeheader()
    for species in species_data:
        notable_behavior_0 = {'behavior_name': species.notable_behaviors[0].behavior_name, 'frequency_per_day': species.notable_behaviors[0].frequency_per_day}
        notable_behavior_1 = {'behavior_name': species.notable_behaviors[1].behavior_name, 'frequency_per_day': species.notable_behaviors[1].frequency_per_day}
        writer.writerow({
            'species_name': species.species_name,
            'habitat.region': species.habitat.region,
            'habitat.climate': species.habitat.climate,
            'habitat.elevation_meters': species.habitat.elevation_meters,
            'average_lifespan_years': species.average_lifespan_years,
            'diet.primary_food': species.diet.primary_food,
            'diet.secondary_food': species.diet.secondary_food,
            'diet.is_carnivorous': species.diet.is_carnivorous,
            'physical_traits.height_cm': species.physical_traits.height_cm,
            'physical_traits.weight_kg': species.physical_traits.weight_kg,
            'physical_traits.fur_color': species.physical_traits.fur_color,
            'physical_traits.has_wings': species.physical_traits.has_wings,
            'social_structure.group_size': species.social_structure.group_size,
            'social_structure.dominant_gender': species.social_structure.dominant_gender,
            'notable_behaviors.0.behavior_name': notable_behavior_0['behavior_name'],
            'notable_behaviors.0.frequency_per_day': notable_behavior_0['frequency_per_day'],
            'notable_behaviors.1.behavior_name': notable_behavior_1['behavior_name'],
            'notable_behaviors.1.frequency_per_day': notable_behavior_1['frequency_per_day']
        })
