
import csv
from dataclasses import dataclass

@dataclass
class Recipe:
    recipe_id: str
    recipe_name: str
    chef_name: str
    cuisine_type: str
    preparation_time_minutes: int
    cooking_time_minutes: int
    servings: int
    difficulty_level: str
    main_ingredient: str
    ingredient_list: str
    ingredient_quantities: str
    cooking_method: str
    calories_per_serving: int
    allergen_warnings: str
    vegetarian_friendly: str
    seasonality: str

def extract_recipe_info(recipe_description):
    # Assuming recipe_description is a dictionary with the required fields
    recipe = Recipe(
        recipe_id=recipe_description['recipe_id'],
        recipe_name=recipe_description['recipe_name'],
        chef_name=recipe_description['chef_name'],
        cuisine_type=recipe_description['cuisine_type'],
        preparation_time_minutes=recipe_description['preparation_time_minutes'],
        cooking_time_minutes=recipe_description['cooking_time_minutes'],
        servings=recipe_description['servings'],
        difficulty_level=recipe_description['difficulty_level'],
        main_ingredient=recipe_description['main_ingredient'],
        ingredient_list=recipe_description['ingredient_list'],
        ingredient_quantities=recipe_description['ingredient_quantities'],
        cooking_method=recipe_description['cooking_method'],
        calories_per_serving=recipe_description['calories_per_serving'],
        allergen_warnings=recipe_description['allergen_warnings'],
        vegetarian_friendly=recipe_description['vegetarian_friendly'],
        seasonality=recipe_description['seasonality']
    )
    return recipe

def write_to_csv(recipes, filename):
    with open(filename, 'w', newline='') as csvfile:
        fieldnames = ['recipe_id', 'recipe_name', 'chef_name', 'cuisine_type', 'preparation_time_minutes', 'cooking_time_minutes', 'servings', 'difficulty_level', 'main_ingredient', 'ingredient_list', 'ingredient_quantities', 'cooking_method', 'calories_per_serving', 'allergen_warnings', 'vegetarian_friendly', 'seasonality']
        writer = csv.DictWriter(csvfile, fieldnames=fieldnames)
        writer.writeheader()
        for recipe in recipes:
            writer.writerow({
                'recipe_id': recipe.recipe_id,
                'recipe_name': recipe.recipe_name,
                'chef_name': recipe.chef_name,
                'cuisine_type': recipe.cuisine_type,
                'preparation_time_minutes': recipe.preparation_time_minutes,
                'cooking_time_minutes': recipe.cooking_time_minutes,
                'servings': recipe.servings,
                'difficulty_level': recipe.difficulty_level,
                'main_ingredient': recipe.main_ingredient,
                'ingredient_list': recipe.ingredient_list,
                'ingredient_quantities': recipe.ingredient_quantities,
                'cooking_method': recipe.cooking_method,
                'calories_per_serving': recipe.calories_per_serving,
                'allergen_warnings': recipe.allergen_warnings,
                'vegetarian_friendly': recipe.vegetarian_friendly,
                'seasonality': recipe.seasonality
            })

# Example usage:
recipes = [
    Recipe(
        recipe_id='1',
        recipe_name='Spaghetti Bolognese',
        chef_name='Chef John',
        cuisine_type='Italian',
        preparation_time_minutes=15,
        cooking_time_minutes=30,
        servings=4,
        difficulty_level='Medium',
        main_ingredient='Ground beef',
        ingredient_list='Spaghetti, ground beef, tomato sauce, onions, garlic',
        ingredient_quantities='1 pound, 1 cup, 2 cups, 1 medium, 3 cloves',
        cooking_method='Baking',
        calories_per_serving=500,
        allergen_warnings='None',
        vegetarian_friendly='No',
        seasonality='All Year'
    ),
    Recipe(
        recipe_id='2',
        recipe_name='Thai Green Curry',
        chef_name='Chef Jane',
        cuisine_type='Thai',
        preparation_time_minutes=10,
        cooking_time_minutes=20,
        servings=2,
        difficulty_level='Easy',
        main_ingredient='Chicken breast',
        ingredient_list='Chicken breast, Thai green curry paste, coconut milk, fish sauce, lime juice',
        ingredient_quantities='1 pound, 2 tablespoons, 1 can, 2 tablespoons, 1 tablespoon',
        cooking_method='Frying',
        calories_per_serving=350,
        allergen_warnings='Fish sauce',
        vegetarian_friendly='No',
        seasonality='Summer'
    )
]

write_to_csv(recipes, 'recipes.csv')
