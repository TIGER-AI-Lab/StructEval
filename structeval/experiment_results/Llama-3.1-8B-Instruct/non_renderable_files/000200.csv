
import csv
from io import StringIO

def generate_recipe_csv(recipe_id, recipe_name, chef_name, cuisine_type, prep_time_minutes, cook_time_minutes, difficulty_level, ingredient_list, ingredient_quantities, ingredient_units, step_descriptions, step_timers, servings, vegetarian, allergen_warnings, rating_average, review_count):
    csv_data = StringIO()
    writer = csv.writer(csv_data)

    writer.writerow([
        recipe_id,
        recipe_name,
        chef_name,
        cuisine_type,
        prep_time_minutes,
        cook_time_minutes,
        difficulty_level,
        ';'.join(ingredient_list),
        ';'.join(ingredient_quantities),
        ';'.join(ingredient_units),
        ';'.join(step_descriptions),
        ';'.join(map(str, step_timers)),
        servings,
        str(vegetarian).upper(),
        allergen_warnings or '',
        round(rating_average, 1),
        review_count
    ])

    return csv_data.getvalue()

# Example usage:
recipe = {
    'recipe_id': 1,
    'recipe_name': 'Spaghetti Bolognese',
    'chef_name': 'John Doe',
    'cuisine_type': 'Italian',
    'prep_time_minutes': 15,
    'cook_time_minutes': 30,
    'difficulty_level': 'Medium',
    'ingredient_list': ['Spaghetti', 'Ground Beef', 'Tomato Sauce', 'Onion', 'Garlic'],
    'ingredient_quantities': ['500g', '1kg', '2 cups', '1 medium', '3 cloves'],
    'ingredient_units': ['g', 'kg', 'cups', 'medium', 'cloves'],
    'step_descriptions': ['Cook spaghetti', 'Brown ground beef', 'Add tomato sauce', 'Season with salt and pepper'],
    'step_timers': [10, 15, 5, 2],
    'servings': 4,
    'vegetarian': False,
    'allergen_warnings': 'Peanuts',
    'rating_average': 4.5,
    'review_count': 10
}

print(generate_recipe_csv(**recipe))
