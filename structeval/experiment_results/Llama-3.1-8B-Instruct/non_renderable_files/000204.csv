
import csv

def generate_animal_csv_row(species, habitat_region, habitat_climate, habitat_elevation_meters, 
                            diet_primary_food, diet_secondary_foods, diet_daily_caloric_intake, 
                            physical_traits_average_weight_kg, physical_traits_average_length_cm, 
                            physical_traits_coloration, behavior_activity_pattern, behavior_social_structure, 
                            behavior_migratory, conservation_status, conservation_population_estimate):
    csv_row = {
        'species': species,
        'habitat.region': habitat_region,
        'habitat.climate': habitat_climate,
        'habitat.elevation_meters': habitat_elevation_meters,
        'diet.primary_food': diet_primary_food,
        'diet.secondary_foods': diet_secondary_foods,
        'diet.daily_caloric_intake': diet_daily_caloric_intake,
        'physical_traits.average_weight_kg': physical_traits_average_weight_kg,
        'physical_traits.average_length_cm': physical_traits_average_length_cm,
        'physical_traits.coloration': physical_traits_coloration,
        'behavior.activity_pattern': behavior_activity_pattern,
        'behavior.social_structure': behavior_social_structure,
        'behavior.migratory': behavior_migratory,
        'conservation.status': conservation_status,
        'conservation.population_estimate': conservation_population_estimate
    }
    return csv_row

def write_csv_row_to_file(csv_row, filename):
    with open(filename, 'a', newline='') as csvfile:
        fieldnames = list(csv_row.keys())
        writer = csv.DictWriter(csvfile, fieldnames=fieldnames)
        
        if csvfile.tell() == 0:
            writer.writeheader()
        
        writer.writerow(csv_row)

# Example usage:
csv_row = generate_animal_csv_row('Lion', 'Savanna', 'Tropical', 500, 'Large ungulates', 'Small antelopes', 5000, 190, 160, 'Golden coat with dark mane', 'Diurnal', 'Pride', 'No', 'Least Concern', 30000)
write_csv_row_to_file(csv_row, 'animal_data.csv')
